<div id="<%= dom_id todo %>" class="flex items-center py-4">
  <% if todo.completed? %>
    <span class="text-green-500 flex-shrink-0">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
    </span>
  <% else %>
    <span class="text-gray-300 flex-shrink-0">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" />
      </svg>
    </span>
  <% end %>
  
  <div class="ml-4 flex-grow">
    <div class="<%= todo.completed? ? 'line-through text-gray-400' : 'text-gray-800' %> text-lg">
      <%= todo.title %>
    </div>
    
    <% if todo.categories.any? %>
      <div class="flex flex-wrap gap-1 mt-1">
        <% todo.categories.each do |category| %>
          <span class="inline-flex items-center text-xs px-2 py-0.5 rounded-full bg-<%= category.color.gsub('-500', '-100') %> text-<%= category.color %>">
            <div class="h-2 w-2 rounded-full bg-<%= category.color %> mr-1"></div>
            <%= category.name %>
          </span>
        <% end %>
      </div>
    <% end %>
  </div>
  
  <%= button_to toggle_todo_path(todo), method: :patch, class: "ml-2 text-sm text-blue-500 hover:text-blue-700 flex-shrink-0" do %>
    <%= todo.completed? ? "Mark incomplete" : "Mark complete" %>
  <% end %>
</div>
